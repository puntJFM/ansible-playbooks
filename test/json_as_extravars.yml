---
- name: Debug JSON extra vars
  hosts: localhost
  gather_facts: no

  tasks:
    - name: Print all available variables
      debug:
        var: vars

    - name: Print ansible_facts
      debug:
        var: ansible_facts

    - name: Print extra_vars if defined
      debug:
        var: extra_vars
      when: extra_vars is defined

    - name: Print extra_vars from ansible_facts
      debug:
        var: ansible_facts.extra_vars
      when: ansible_facts.extra_vars is defined

    - name: Print extra_vars from hostvars
      debug:
        var: hostvars[inventory_hostname].extra_vars
      when: hostvars[inventory_hostname].extra_vars is defined
