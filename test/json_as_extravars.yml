---
- name: Take JSON as extra vars
  hosts: localhost
  gather_facts: no
  vars:
    callbackUrl: "{{ extra_vars.callbackUrl | default('https://default.callback.url') }}"
    parsed_json: "{{ extra_vars.json | default('{}') | from_json }}"

  tasks:
    - name: Print full extra_vars
      debug:
        var: extra_vars

    - name: Print JSON payload
      debug:
        var: parsed_json
